{% extends "pages/admin.html" %}

{% block title %}Evaluations{% endblock %}

{% block header %}

    <h2> Evaluations for {{ teacher.first_name }} {{ teacher.last_name }} </h2>
    <hr>
   
{% endblock header %}
<hr>
{% block feature %}
{% if avg_rating %}
  <p><strong>Total Average Rating: {{ avg_rating|floatformat:1 }} </strong></p>
{% endif %}
<table class="table table-bordered table-responsive  ">
    <tr>
        <th  scope="col">SUBJECT</th>
        <th  scope="col">FACULTY</th>
        <th  scope="col">AVERAGE RATING </th>
        <th  scope="col">OVERALL IMPRESSION </th>
        <th  scope="col">POLARITY </th>
        <th  scope="col">ACADEMIC YEAR </th>
        <th  scope="col">SEMESTER </th>
        <th  scope="col">OPTIONS </th>
    </tr>
    {% for i in teacher_evaluations %}
    <tr>
        <td>{{ i.section_subject_faculty.subjects }} </td>
        <td>{{ i.section_subject_faculty.faculty }}</td>
        <td>{{ i.average_rating }}</td>
        <td>{{ i.comments }}</td>
        <td>{{ i.predicted_sentiment }}</td>
        <td>{{ i.academic_year }}</td>
        <td>{{ i.semester }}</td>
        <td>
            <div class="row" style="align-items: center; justify-content: center;">
            <div class="col-5"><a href="{% url 'admin_view_evaluation_form' i.pk %}">
            <button class="btn btn-primary" style=" padding:3px 5px 3px 5px">
                <i class="bi bi-eye-fill" style="font-size:20px"></i></button></a></div>
            <div class="col-7">
            <a href="{% url 'deleteEvaluation'  i.pk  %}"><button class="btn btn-danger" style=" padding:3px 5px 3px 5px; ;" ><i style="font-size:24px" class='bx bxs-trash' ></i></button></a></td>
                        </div>
            </div>
    </tr>

    {% endfor %}

</table>
{% endblock feature %}