{% extends "pages/home.html" %}
{% load static %}
{% block title %}Profile{% endblock %}

{% block header %}

    <h2> Profile</h2>
    <hr>
    {% endblock header %}
    {% block feature %}
    <div class="container" id="profilecontainer">
       
        <div id="profile" class = "container">
           
            {% if student.profile_picture %}
            <img src="{{ student.profile_picture.url }}" alt="Profile Picture" width="150" style="margin-bottom: 2em;">
            {% else %}
            <img src="{% static 'images/Default_avatar.webp' %}" alt="Default Profile Picture" width="150" style="margin-bottom: 2em;" >
            {% endif %}
            <h4>Student Number: {{ student.student_number }} </h4> 
            <h4>Name: {{ student.name }} </h4>
            <h4>Age: {{ student.age}} </h4>
            <h4>Gender: {{student.sex}} </h4>
            <h4>Program & Section: {{student.Section}}</h4>
            
            
            
           </div>
        <div class="tablecontainer" style="display: inline-block; margin-left: 20px; width: 500px;">
           <table class="table table-bordered table-responsive ">
            <tr>
            <th  scope="col" class="bg-success">Subject</th>
            <th  scope="col" class="bg-success">Teacher</th>
            <th  scope="col" class="bg-success">Status</th>
        </tr>
        <tr>
            {% for i in section_subjects_faculty %}
                <td>{{ i.subjects.subject_code }}</td>
                <td>{{ i.faculty.last_name }}</td>
                <td>
                    {% for evaluation in student.evaluation_set.all %}
  <div class="faculty-evaluation">
    {{ evaluation.section_subject_faculty.faculty.name }} - {{ evaluation.section_subject_faculty.subject.name }}
    <span class="badge bg-success {% if evaluation.section_subject_faculty.status != 'Evaluated' %}d-none{% endif %}">Evaluated</span>
    <span class="badge bg-secondary {% if evaluation.section_subject_faculty.status == 'Evaluated' %}d-none{% endif %}">Not Evaluated</span>
  </div>
{% endfor %}
                </td>
        </tr>
    </div>
    </div>

    
    {% endfor %}
    
    </table>
    {% endblock feature %}

