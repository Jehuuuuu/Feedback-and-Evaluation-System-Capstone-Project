{% extends "pages/home.html" %}
{% load static %}
{% block title %}Profile{% endblock %}

{% block header %}

    <h2> Profile</h2>
    <hr>
    {% endblock header %}
    {% block feature %}
    {% if messages %}
    <ul class="messages">
        {% for message in messages %}
        <li>{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    <div class="container" id="profilecontainer">
       
        <div id="profile" class = "container">
            
            {% if student.profile_picture %}
            <img src="{{ student.profile_picture.url }}" alt="Profile Picture" width="150" style="margin-bottom: 2em;">
            {% else %}
            <img src="{% static 'images/Default_avatar.webp' %}" alt="Default Profile Picture" width="150" style="margin-bottom: 2em;" >
            {% endif %}
            <a class="btn btn-warning" href="{% url 'edit_student_profile' %}" style="display: block; width: 30%; margin-left: 7.4em;"> <i class="bi bi-pencil-square"></i> Edit</a>
            <table class="table table-responsive " style=>
            <tr>
            <th>Student Number: </th>
            <td>{{ student.student_number }}</td>
             </tr>

            <tr>
            <th>Name: </th>
            <td>{{ student.first_name }} {{ student.last_name }}</td>
             </tr>

            <tr>

            <th>Email: </th>
            <td >{{ student.email }} </td>  
            </tr>

            <tr>
      
            <th>Contact Number: </th>
            <td>{{ student.contact_no }} </td>
            </tr>

            <tr>
            <th>Status: </th>
            <td>{{ student.status }} </td>
             </tr>
             
            <tr>
            <th>Section: </th>
            <td>{{ student.Section }}</td>
             </tr>
            
            </table>
            
            
           </div>
        <div class="tablecontainer" style="display: inline-block; margin-left: 20px; width: 700px;">
           <table class="table table-bordered table-responsive ">
            <tr>
            <th  scope="col" style="color:#fafafa; background: #2a9134">Subject</th>
            <th  scope="col" style="color:#fafafa; background: #2a9134">Teacher</th>
            <th  scope="col" style="color:#fafafa; background: #2a9134">Status</th>
        </tr>
        {% for subject, faculty, status in evaluation_status_list %}
            <tr>
                <td>{{ subject }}</td>
                <td>{{ faculty.first_name }} {{ faculty.last_name }}</td>
                <td>
                    {% if status == 'evaluated' %}
                        <span class="text-success">Evaluated</span>
                    {% else %}
                        <span class="text-danger">Pending</span>
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
    
    </table>
    {% endblock feature %}

